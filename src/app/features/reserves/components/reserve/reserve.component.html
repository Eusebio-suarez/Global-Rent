@if (selectedCar) {
    <main class="flex flex-col  gap-14 max-md:px-10 max-md:gap-5">
        <div class="flex items-center justify-between max-[1000px]:flex-col ">
            <div class="flex flex-col max-[1000px]:text-center gap-5 p-10">
                <div class="flex flex-col">
                    <h2 class="text-3xl font-semibold text-gray-800 max-[1000px]:text-xl">{{ selectedCar.model }}</h2>
                </div>
                <div class="flex flex-col gap-4 max-[1000px]:items-center">
                    <div class="flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-car-front-icon lucide-car-front"><path d="m21 8-2 2-1.5-3.7A2 2 0 0 0 15.646 5H8.4a2 2 0 0 0-1.903 1.257L5 10 3 8"/><path d="M7 14h.01"/><path d="M17 14h.01"/><rect width="18" height="8" x="3" y="10" rx="2"/><path d="M5 18v2"/><path d="M19 18v2"/></svg>                        
                        <span class="bg-[#788CFF] text-white text-xs font-semibold py-1 px-3 rounded-full shadow-sm">
                        {{ selectedCar.type }}
                        </span>
                    </div>
                    <div class="flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-icon lucide-user"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                        <p>{{selectedCar.people}} Personas</p>
                    </div>
                    <div class="flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-briefcase-icon lucide-briefcase"><path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/><rect width="20" height="14" x="2" y="6" rx="2"/></svg>
                        <p>{{selectedCar.bags}} Maletas</p>
                    </div>
                    <div class="flex items-center gap-1">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#4fb884" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="stroke-white lucide lucide-circle-dollar-sign-icon lucide-circle-dollar-sign"><circle cx="12" cy="12" r="10"/><path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"/><path d="M12 18V6"/></svg>
                        <p class="text-[#5069f8]">
                            {{ selectedCar.price| currency : 'COP ' : 'symbol' : '1.0-0' }}
                            / Dia
                        </p>
                    </div>
                </div>
            </div>
            <div>
                <img [src]="selectedCar.image" [alt]="selectedCar.model" class="w-[500px] h-[400px] object-contain">
            </div>
        </div>
        
        <div class="p-5 min-[400px]:p-10 flex flex-col gap-8 bg-[#C3D2FF]/50 border-2 border-[#788CFF]/40 rounded-xl shadow-md">
            <div class="flex items-center gap-2" >
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-[#4fb884] lucide lucide-map-icon lucide-map"><path d="M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z"/><path d="M15 5.764v15"/><path d="M9 3.236v15"/></svg>
                <h2 class="text-xl font-semibold text-[#4f67f2]">Ubicación</h2>
            </div>
            <div class="flex gap-8 flex-col justify-between" >
                <div class="flex flex-col gap-5">
                    <div class="flex flex-col gap-3">
                        <div class="flex items-center gap-2" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-gray-700 lucide lucide-map-pin-icon lucide-map-pin"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/></svg>
                            <h3 class="text-md font-semibold text-gray-700">Lugar de Entrega</h3>
                        </div>
                        <div class="flex items-center gap-2" >
                            <div class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-[#425df6]/80 lucide lucide-calendar-days-icon lucide-calendar-days"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
                                <h3 class="text-md  text-gray-700">{{reserveDetailsService.reserveDetails()?.startDate}}</h3>
                            </div>
                            <div class="flex gap-2 items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-[#425df6]/80 lucide lucide-clock-icon lucide-clock"><path d="M12 6v6l4 2"/><circle cx="12" cy="12" r="10"/></svg>
                                <h3 class="text-md  text-gray-700">{{reserveDetailsService.reserveDetails()?.startTime}}</h3>
                            </div>
                        </div>
                    </div>
                    @if (reserveDetailsService.reserveDetails()?.startPlace == "Aeropuerto") {
                            <div class="border border-gray-300 rounded-lg">
                                <app-map  title="Aeropuerto" [center]="{lat:4.4528455951233505,lng:-75.76803181467105}" ></app-map>
                            </div>
                        }
                        @else {
                            <div class="border border-gray-300 rounded-lg " >
                                <app-map  title="Sede" [center]="{lat:4.5535933206439365, lng:-75.66832492978604}" ></app-map>
                            </div>
                        }
                </div>
                <div class="flex flex-col gap-5">
                    <div class="flex flex-col gap-3">
                        <div class="flex items-center gap-2" >
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-gray-700 lucide lucide-map-pin-icon lucide-map-pin"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"/><circle cx="12" cy="10" r="3"/></svg>
                            <h3 class="text-md font-semibold text-gray-700">Lugar de Devolucion</h3>
                        </div>
                        <div class="flex items-center gap-2" >
                            <div class="flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-[#425df6]/80 lucide lucide-calendar-days-icon lucide-calendar-days"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
                                <h3 class="text-md text-gray-700">{{reserveDetailsService.reserveDetails()?.endDate}}</h3>
                            </div>
                            <div class="flex gap-2 items-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-[#425df6]/80 lucide lucide-clock-icon lucide-clock"><path d="M12 6v6l4 2"/><circle cx="12" cy="12" r="10"/></svg>
                                <h3 class="text-md text-gray-700">{{reserveDetailsService.reserveDetails()?.endTime}}</h3>
                            </div>
                        </div>
                    </div>
                    @if (reserveDetailsService.reserveDetails()?.endPlace) {
                            <div class="border border-gray-300 rounded-lg ">
                                <app-map  title="Aeropuerto" [center]="{lat:4.4528455951233505,lng:-75.76803181467105}" ></app-map>
                            </div>
                    }
                    @else {
                            <div class="border border-gray-300 rounded-lg " >
                                <app-map  title="Sede" [center]="{lat:4.5535933206439365, lng:-75.66832492978604}" ></app-map>
                            </div>
                    }
                </div>
            </div>
        </div>
        <div class="flex flex-col gap-6">
                <div class="flex flex-col gap-2">
                    <h2 class="text-xl font-semibold text-[#4f67f2]">Detalles de la Reserva</h2>
                    <h3 class="text-md font-semibold text-gray-700">{{ selectedCar.model }}</h3>
                </div>
                <div class="flex flex-col gap-3">
                    <div class="flex items-center gap-2 max-[500px]:flex-col max-[500px]:text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=" stroke-[#2f9a64] lucide lucide-check-icon lucide-check"><path d="M20 6 9 17l-5-5"/></svg>
                        <p class="text-gray-600 text-sm max-w-[90%]">Seguro básico contra daños y accidentes.</p>
                    </div>
                    <div class="flex items-center gap-2 max-[500px]:flex-col max-[500px]:text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=" stroke-[#2f9a64] lucide lucide-check-icon lucide-check"><path d="M20 6 9 17l-5-5"/></svg>
                        <p class="text-gray-600 text-sm max-w-[90%]">Cobertura ante ciertos golpes, rayones y otros daños.</p>
                    </div>
                    <div class="flex items-center gap-2 max-[500px]:flex-col max-[500px]:text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=" stroke-[#2f9a64] lucide lucide-check-icon lucide-check"><path d="M20 6 9 17l-5-5"/></svg>
                        <p class="text-gray-600 text-sm max-w-[90%]">Asistencia 24/7 para emergencias en viaje.</p>
                    </div>
                    <div class="flex items-center gap-2 max-[500px]:flex-col max-[500px]:text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=" stroke-[#2f9a64] lucide lucide-check-icon lucide-check"><path d="M20 6 9 17l-5-5"/></svg>
                        <p class="text-gray-600 text-sm max-w-[90%]">Pago total cuando se realice la entrega del vehiculo.</p>
                    </div>
                    <div class="flex items-center gap-2 max-[500px]:flex-col max-[500px]:text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-gray-700 lucide lucide-gauge-icon lucide-gauge"><path d="m12 14 4-4"/><path d="M3.34 19a10 10 0 1 1 17.32 0"/></svg>
                        <p class="text-gray-600 text-sm max-w-[90%]">Kilometraje ilimitado.</p>
                    </div>
                    <div class="flex items-center gap-2 max-[500px]:flex-col max-[500px]:text-center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="stroke-red-500/60 lucide lucide-fuel-icon lucide-fuel"><path d="M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5"/><path d="M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16"/><path d="M2 21h13"/><path d="M3 9h11"/></svg>
                        <p class="text-gray-600 text-sm max-w-[90%]">El vehículo deberá devolverse con la misma cantidad de combustible.</p>
                    </div>
                </div>
                <div class="flex flex-col gap-3">
                    <div class="flex flex-col gap-5">
                        <div class="flex flex-col gap-2">
                            <div>
                                <h2 class="text-gray-700 font-semibold ">Dias:</h2>
                            </div>
                            <div class="flex items-center gap-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class=" stroke-[#425df6]/80 lucide lucide-calendar-days-icon lucide-calendar-days"><path d="M8 2v4"/><path d="M16 2v4"/><rect width="18" height="18" x="3" y="4" rx="2"/><path d="M3 10h18"/><path d="M8 14h.01"/><path d="M12 14h.01"/><path d="M16 14h.01"/><path d="M8 18h.01"/><path d="M12 18h.01"/><path d="M16 18h.01"/></svg>
                                <p class="text-gray-800">
                                    {{totalDays}} Dias
                                </p>
                            </div>
                        </div>
                        <div class="flex flex-col gap-2">
                            <div>
                                <h2 class="text-gray-700 font-semibold ">Total a pagar:</h2>
                            </div>
                            <div class="flex items-center gap-1">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#4fb884" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="stroke-white lucide lucide-circle-dollar-sign-icon lucide-circle-dollar-sign"><circle cx="12" cy="12" r="10"/><path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"/><path d="M12 18V6"/></svg>
                                <p class="text-[#5069f8]">
                                    {{ totalPrice | currency : 'COP ' : 'symbol' : '1.0-0' }}
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col gap-3">
                        <button
                        (click)="openModal()"
                        class="bg-[#4fb884]/90 hover:bg-[#2d9c68]/80 px-3 py-2 transition-colors font-semibold text-white text-sm shadow-lg rounded-sm focus:outline-0 cursor-pointer"
                        >
                            Reservar
                        </button>
                    </div>
                </div>
            </div>
    </main>
    <app-confirm-reserve (close)="closeModal()" (confirm)="tryReserve()" [isOpen]="isOpenModal" ></app-confirm-reserve>
}